<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>snickerdoodle Platform Controller: USB CDC Interface Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" async src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="platform-controller.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="krtkl-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">snickerdoodle Platform Controller
   </div>
   <div id="projectbrief">firmware for STM32F0 platform controller</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group___s_d___u_s_b___c_d_c___i_f___functions.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">USB CDC Interface Functions<div class="ingroups"><a class="el" href="group___s_d___u_s_b___c_d_c.html">USB Communications Device Class Interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gabd3573e5083061a52edc3dcd98e6f827"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d___u_s_b___c_d_c___i_f___functions.html#gabd3573e5083061a52edc3dcd98e6f827">sd_cdc_transmit</a> (uint8_t *buf, uint16_t len)</td></tr>
<tr class="memdesc:gabd3573e5083061a52edc3dcd98e6f827"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB Communications Class Device Transmit Data send over USB IN endpoint are sent over CDC interface through this function.  <a href="#gabd3573e5083061a52edc3dcd98e6f827">More...</a><br /></td></tr>
<tr class="separator:gabd3573e5083061a52edc3dcd98e6f827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga583a2dd513f08c7f796c00581ec28643"><td class="memItemLeft" align="right" valign="top"><a id="ga583a2dd513f08c7f796c00581ec28643"></a>
uint8_t&#160;</td><td class="memItemRight" valign="bottom"><b>sd_cdc_get_state</b> (void)</td></tr>
<tr class="separator:ga583a2dd513f08c7f796c00581ec28643"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9acc365b136914ed8a39593ee02d0260"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d___u_s_b___c_d_c___i_f___functions.html#ga9acc365b136914ed8a39593ee02d0260">sd_cdc_init</a> (void)</td></tr>
<tr class="memdesc:ga9acc365b136914ed8a39593ee02d0260"><td class="mdescLeft">&#160;</td><td class="mdescRight">CDC_Init_FS Initializes the CDC media low layer over the FS USB IP.  <a href="#ga9acc365b136914ed8a39593ee02d0260">More...</a><br /></td></tr>
<tr class="separator:ga9acc365b136914ed8a39593ee02d0260"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9f46346272b91f23250ef22b6a1e600"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d___u_s_b___c_d_c___i_f___functions.html#gad9f46346272b91f23250ef22b6a1e600">sd_cdc_deinit</a> (void)</td></tr>
<tr class="memdesc:gad9f46346272b91f23250ef22b6a1e600"><td class="mdescLeft">&#160;</td><td class="mdescRight">CDC_DeInit_FS DeInitializes the CDC media low layer.  <a href="#gad9f46346272b91f23250ef22b6a1e600">More...</a><br /></td></tr>
<tr class="separator:gad9f46346272b91f23250ef22b6a1e600"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c03942883325c01bc3fd6410d4d1911"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d___u_s_b___c_d_c___i_f___functions.html#ga7c03942883325c01bc3fd6410d4d1911">sd_cdc_control</a> (uint8_t cmd, uint8_t *pbuf, uint16_t length)</td></tr>
<tr class="memdesc:ga7c03942883325c01bc3fd6410d4d1911"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB Communications Class Device Control Request Manage the CDC class requests.  <a href="#ga7c03942883325c01bc3fd6410d4d1911">More...</a><br /></td></tr>
<tr class="separator:ga7c03942883325c01bc3fd6410d4d1911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5da74bc52d86c1f85d057f7df7d7674a"><td class="memItemLeft" align="right" valign="top">static int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___s_d___u_s_b___c_d_c___i_f___functions.html#ga5da74bc52d86c1f85d057f7df7d7674a">sd_cdc_receive</a> (uint8_t *buf, uint32_t *len)</td></tr>
<tr class="memdesc:ga5da74bc52d86c1f85d057f7df7d7674a"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB Communications Class Device Receive Data received over USB OUT endpoint are sent over CDC interface through this function.  <a href="#ga5da74bc52d86c1f85d057f7df7d7674a">More...</a><br /></td></tr>
<tr class="separator:ga5da74bc52d86c1f85d057f7df7d7674a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga7c03942883325c01bc3fd6410d4d1911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7c03942883325c01bc3fd6410d4d1911">&#9670;&nbsp;</a></span>sd_cdc_control()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t sd_cdc_control </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="sd__usbd__cdc__if_8c.html">Src/sd_usbd_cdc_if.c</a>&gt;</code></p>

<p>USB Communications Class Device Control Request Manage the CDC class requests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>Command code <br />
</td></tr>
    <tr><td class="paramname">pbuf</td><td>Buffer containing command data (request parameters) </td></tr>
    <tr><td class="paramname">length</td><td>Number of data to be sent (in bytes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">USBD_OK</td><td>if all operations are successful else USBD_FAIL or USBD_BUSY </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;{ </div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    <span class="keywordflow">switch</span> (cmd) {</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="keywordflow">case</span> CDC_SEND_ENCAPSULATED_COMMAND:</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160; </div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">case</span> CDC_GET_ENCAPSULATED_RESPONSE:</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">case</span> CDC_SET_COMM_FEATURE:</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160; </div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">case</span> CDC_GET_COMM_FEATURE:</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">case</span> CDC_CLEAR_COMM_FEATURE:</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">/********************************************************************************/</span></div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">/* Line Coding Structure                            */</span></div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">/*------------------------------------------------------------------------------*/</span></div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">/* Offset | Field       | Size | Value  | Description               */</span></div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">/* 0      | dwDTERate   |   4  | Number |Data terminal rate, in bits per second */</span></div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">/* 4      | bCharFormat |   1  | Number | Stop bits             */</span></div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">/*                  0 - 1 Stop bit              */</span></div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">/*                  1 - 1.5 Stop bits           */</span></div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">/*                  2 - 2 Stop bits             */</span></div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">/* 5      | bParityType |  1   | Number | Parity                */</span></div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">/*                  0 - None                */</span></div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">/*                  1 - Odd                 */</span></div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">/*                  2 - Even                */</span></div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">/*                  3 - Mark                */</span></div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">/*                  4 - Space               */</span></div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">/* 6      | bDataBits  |   1   | Number Data bits (5, 6, 7, 8 or 16).       */</span></div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">/********************************************************************************/</span></div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">case</span> CDC_SET_LINE_CODING:   </div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    </div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keywordflow">case</span> CDC_GET_LINE_CODING:     </div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="keywordflow">case</span> CDC_SET_CONTROL_LINE_STATE:</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="keywordflow">case</span> CDC_SEND_BREAK:</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160; </div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        <span class="keywordflow">break</span>;    </div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    </div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">break</span>;</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    }     </div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keywordflow">return</span> (USBD_OK);</div></div><!-- fragment -->
</div>
</div>
<a id="gad9f46346272b91f23250ef22b6a1e600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad9f46346272b91f23250ef22b6a1e600">&#9670;&nbsp;</a></span>sd_cdc_deinit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t sd_cdc_deinit </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="sd__usbd__cdc__if_8c.html">Src/sd_usbd_cdc_if.c</a>&gt;</code></p>

<p>CDC_DeInit_FS DeInitializes the CDC media low layer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">USBD_OK</td><td>if all operations are successful else USBD_FAIL or USBD_BUSY </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;{</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    hUsbDevice_0 = NULL;</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">return</span> (USBD_OK);</div></div><!-- fragment -->
</div>
</div>
<a id="ga9acc365b136914ed8a39593ee02d0260"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9acc365b136914ed8a39593ee02d0260">&#9670;&nbsp;</a></span>sd_cdc_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t sd_cdc_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="sd__usbd__cdc__if_8c.html">Src/sd_usbd_cdc_if.c</a>&gt;</code></p>

<p>CDC_Init_FS Initializes the CDC media low layer over the FS USB IP. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">USBD_OK</td><td>if all operations are successful else USBD_FAIL or USBD_BUSY </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    hUsbDevice_0 = &amp;hUsbDeviceFS;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    </div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="comment">/* Set Application Buffers */</span></div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    USBD_CDC_SetTxBuffer(hUsbDevice_0, UserTxBufferFS, 0);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    USBD_CDC_SetRxBuffer(hUsbDevice_0, UserRxBufferFS);</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  </div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    USBD_CDC_ReceivePacket(hUsbDevice_0);</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    <span class="keywordflow">return</span> (USBD_OK);</div></div><!-- fragment -->
</div>
</div>
<a id="ga5da74bc52d86c1f85d057f7df7d7674a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5da74bc52d86c1f85d057f7df7d7674a">&#9670;&nbsp;</a></span>sd_cdc_receive()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int8_t sd_cdc_receive </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="sd__usbd__cdc__if_8c.html">Src/sd_usbd_cdc_if.c</a>&gt;</code></p>

<p>USB Communications Class Device Receive Data received over USB OUT endpoint are sent over CDC interface through this function. </p>
<dl class="section note"><dt>Note</dt><dd>This function will block any OUT packet reception on USB endpoint until exiting this function. If you exit this function before transfer is complete on CDC interface (ie. using DMA controller) it will result in receiving more data while previous ones are still not sent.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Buffer of data to be received </td></tr>
    <tr><td class="paramname">len</td><td>Number of data received (in bytes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">USBD_OK</td><td>if all operations are successful else USBD_FAIL or USBD_BUSY </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;{</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;    uint8_t result;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    HAL_UART_Transmit((&amp;<a class="code" href="group___s_d___u_a_r_t___exported___variables.html#ga34b6075e649bd2f9d6bcef303a9cdce6">uart1_dev</a>)-&gt;uart, buf, *<a class="code" href="structsd__cbuf.html#a96bbf959016e4411c9e6b9812a8be60a">len</a>, 1000); <span class="comment">/* Bridge to UART */</span></div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    result = USBD_CDC_ReceivePacket(hUsbDevice_0);</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;  </div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="ttc" id="group___s_d___u_a_r_t___exported___variables_html_ga34b6075e649bd2f9d6bcef303a9cdce6"><div class="ttname"><a href="group___s_d___u_a_r_t___exported___variables.html#ga34b6075e649bd2f9d6bcef303a9cdce6">uart1_dev</a></div><div class="ttdeci">struct sd_uart_dev uart1_dev</div><div class="ttdef"><b>Definition:</b> sd_uart.c:81</div></div>
<div class="ttc" id="structsd__cbuf_html_a96bbf959016e4411c9e6b9812a8be60a"><div class="ttname"><a href="structsd__cbuf.html#a96bbf959016e4411c9e6b9812a8be60a">sd_cbuf::len</a></div><div class="ttdeci">uint32_t len</div><div class="ttdef"><b>Definition:</b> sd_buffer.h:106</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="gabd3573e5083061a52edc3dcd98e6f827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabd3573e5083061a52edc3dcd98e6f827">&#9670;&nbsp;</a></span>sd_cdc_transmit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t sd_cdc_transmit </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><code>#include &lt;<a class="el" href="sd__usbd__cdc__if_8c.html">Src/sd_usbd_cdc_if.c</a>&gt;</code></p>

<p>USB Communications Class Device Transmit Data send over USB IN endpoint are sent over CDC interface through this function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>Buffer of data to be send </td></tr>
    <tr><td class="paramname">len</td><td>Number of data to be send (in bytes) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">USBD_OK</td><td>if all operations are successful else USBD_FAIL or USBD_BUSY </td></tr>
  </table>
  </dd>
</dl>
<div class="fragment"><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;{</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    uint8_t result = USBD_OK;</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    </div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="keywordflow">if</span> (hUsbDevice_0 == NULL) </div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <span class="keywordflow">return</span> USBD_FAIL;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  </div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    USBD_CDC_SetTxBuffer(hUsbDevice_0, buf, <a class="code" href="structsd__cbuf.html#a96bbf959016e4411c9e6b9812a8be60a">len</a>);   </div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    result = USBD_CDC_TransmitPacket(hUsbDevice_0);</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    </div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">return</span> result;</div><div class="ttc" id="structsd__cbuf_html_a96bbf959016e4411c9e6b9812a8be60a"><div class="ttname"><a href="structsd__cbuf.html#a96bbf959016e4411c9e6b9812a8be60a">sd_cbuf::len</a></div><div class="ttdeci">uint32_t len</div><div class="ttdef"><b>Definition:</b> sd_buffer.h:106</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Apr 2 2018 13:17:21 for snickerdoodle Platform Controller by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
